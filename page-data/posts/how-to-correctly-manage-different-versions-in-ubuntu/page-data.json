{"componentChunkName":"component---src-templates-post-template-tsx","path":"/posts/how-to-correctly-manage-different-versions-in-ubuntu/","result":{"data":{"markdownRemark":{"html":"<p>For many programs, it's necessary to install multi versions such as gcc4.8, gcc6, and gcc7 because it's possible that some projects need a different version of the compiler. Even JVM languages, I sometimes need to use Java 8 or Java 9 depending on the project.</p>\n<h2>What is /etc/alternatives/ ?</h2>\n<p>So, what is a correct way of managing these different versioned programs?</p>\n<p>Thankfully, Ubuntu makes it easy to manage different versions using <code class=\"language-text\">/etc/alternatives</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> <span class=\"token parameter variable\">-al</span> /etc/alternatives/ <span class=\"token operator\">|</span> <span class=\"token function\">head</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">total 184\ndrwxr-xr-x   2 root root 24576 Mar 13 11:40 .\ndrwxr-xr-x 177 root root 12288 Mar 11 23:47 ..\nlrwxrwxrwx   1 root root    45 Apr 26  2017 ABORT.7.gz -> /usr/share/postgresql/9.5/man/man7/ABORT.7.gz\nlrwxrwxrwx   1 root root    21 Mar 14  2017 aclocal -> /usr/bin/aclocal-1.15\nlrwxrwxrwx   1 root root    37 Mar 14  2017 aclocal.1.gz -> /usr/share/man/man1/aclocal-1.15.1.gz\nlrwxrwxrwx   1 root root    55 Apr 26  2017 ALTER_AGGREGATE.7.gz -> /usr/share/postgresql/9.5/man/man7/ALTER_AGGREGATE.7.gz\nlrwxrwxrwx   1 root root    55 Apr 26  2017 ALTER_COLLATION.7.gz -> /usr/share/postgresql/9.5/man/man7/ALTER_COLLATION.7.gz\nlrwxrwxrwx   1 root root    56 Apr 26  2017 ALTER_CONVERSION.7.gz -> /usr/share/postgresql/9.5/man/man7/ALTER_CONVERSION.7.gz\nlrwxrwxrwx   1 root root    54 Apr 26  2017 ALTER_DATABASE.7.gz -> /usr/share/postgresql/9.5/man/man7/ALTER_DATABASE.7.gz</code></pre></div>\n<p>As you can see <code class=\"language-text\">/etc/alternatives/</code> is a <strong>directory</strong> that contains symbolic links to a specific version of the program.</p>\n<p>For example,</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> <span class=\"token parameter variable\">-al</span> /etc/alternatives/clang</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">lrwxrwxrwx 1 root root 16 Mar 13 11:22 /etc/alternatives/clang -> /usr/bin/clang-7</code></pre></div>\n<p>You can see that my <code class=\"language-text\">clang</code> is pointing <code class=\"language-text\">clang-7.0</code>. So, you just have to create a symbolic link inside <code class=\"language-text\">alternatives</code> directory, and you will always use the right version.</p>\n<h2>How to update /etc/alternatives/?</h2>\n<p>Ubuntu also comes with <code class=\"language-text\">update-alternatives</code> which is a helper utility to manage <code class=\"language-text\">alternatives</code> symlinks.</p>\n<h3>How to set a different version?</h3>\n<p><code class=\"language-text\">update-alternatives --config XXX</code> is the basic syntax. For example, if I want to use a different version of gcc, I will do</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">update-alternatives <span class=\"token parameter variable\">--config</span> gcc</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">There are 4 choices for the alternative gcc (providing /usr/bin/gcc).\n\n  Selection    Path              Priority   Status\n------------------------------------------------------------\n* 0            /usr/bin/gcc-7     50        auto mode\n  1            /usr/bin/gcc-4.8   10        manual mode\n  2            /usr/bin/gcc-5     20        manual mode\n  3            /usr/bin/gcc-6     30        manual mode\n  4            /usr/bin/gcc-7     50        manual mode\n\nPress &lt;enter> to keep the current choice[*], or type selection number:</code></pre></div>\n<h3>How to add a different version?</h3>\n<p>If you install with <code class=\"language-text\">apt-get</code>, it's likely you don't need to do anything. However, if you compile from source codes, this has to be done manually.</p>\n<p>It can be done easily by typing <code class=\"language-text\">update-alternatives --install LINK NAME PATH PRIORITY</code>.</p>\n<ul>\n<li><strong>LINK:</strong> means the default bin path. For example, /usr/bin/java, /usr/bin/gcc</li>\n<li><strong>NAME:</strong> refers to the name of program. It's usually the name of a bin file. e.g., gcc, clang, java.</li>\n<li><strong>PATH:</strong> means a path to the actual version of the program you wish to register. This will be usually a bin file with version name. For example, /usr/bin/gcc-6, /usr/bin/gcc-4.8.</li>\n<li><strong>PRIORITY:</strong> is an integer indicating how to choose a version when there are multiple versions and users did not set a specific version. The highest number will be chosen.</li>\n</ul>\n<p>So, it will look like this</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> update-alternatives <span class=\"token parameter variable\">--install</span> /usr/bin/java <span class=\"token function\">java</span> /usr/local/java/jre1.7.0_09/bin/java <span class=\"token number\">1</span></code></pre></div>\n<h2>In summary,</h2>\n<h3>Choose a different version</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> update-alternatives <span class=\"token parameter variable\">--config</span> NAME</code></pre></div>\n<h3>Install a new version</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> update-alternatives <span class=\"token parameter variable\">--install</span> LINK NAME <span class=\"token environment constant\">PATH</span> PRIORITY</code></pre></div>","excerpt":"For many programs, it's necessary to install multi versions such as gcc4.8, gcc6, and gcc7 because it's possible that some projects need aâ€¦","frontmatter":{"date":"March 13, 2018","title":"How to correctly manage different versions in Ubuntu","keywords":"ubuntu","description":null},"fields":{"slug":"posts/how-to-correctly-manage-different-versions-in-ubuntu"}}},"pageContext":{"slug":"posts/how-to-correctly-manage-different-versions-in-ubuntu"}},"staticQueryHashes":[],"slicesMap":{}}