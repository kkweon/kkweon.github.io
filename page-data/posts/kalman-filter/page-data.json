{"componentChunkName":"component---src-templates-post-template-tsx","path":"/posts/kalman-filter","result":{"data":{"markdownRemark":{"html":"<h2>Definition</h2>\n<p><strong>Kalman filtering, also known as linear quadratic estimation (LQE), is an algorithm</strong> that uses a series of measurements observed over time, containing statistical noise and other inaccuracies, and produces estimates of unknown variables that tend to be more precise than those based on a single measurement alone, blah blah (according to <a href=\"https://en.wikipedia.org/wiki/Kalman_filter\">Wikipedia</a>)</p>\n<p>Simply put, Kalman Filter is used when</p>\n<ul>\n<li>you have a series of measurements with noise or changing over time</li>\n<li>you want to find true states of something (usually a robot)</li>\n</ul>\n<h2>Flowchart of Kalman Filter</h2>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/85759dc3a75bfb1941c0fa5654d28abf/eaf69/basic_concept.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 50.67567567567568%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABiklEQVQoz4WST09aQRTFfzPDvD9QKA8EQdAHYqkoGkxjY9KQCDEaF8boopu666JJN9101ybdtGm6aYwLV34DP4ufCTNyn4IVezbz3r13zrn3ngFlFoBXwAqoIdAFNODieSAAikBPcqtAlVmo7f8kv37SLe18HgBlZbwykAIskJMyR9oA6kAMvJhJWNh8T7Y1rBZ6Z1tXo1ESTklXjqAiBJ50pngOC8PvVPpfiY8v8aOG1jbtwiHQlG5WJkavS06gQNvxp07JyHs/mH/3haWjC5Vb3sWE+Um98JH+9L/SYDxan25Qxh/HvGLnTiW/9XEsFNwTZp0e4CoLwA6wLWdNdvwa2EDbNtCWtYzxV/bnl7tom0nCiSmRXG6Ly7HS1gmFwfzGYu3g99ri4R/io/OH7q+F0EYtX9tMRcxoSjfZJw3Qnhs7o2zaCWemctXBN1Xb/0Wh9+FNsXfWB5ZRxp2df4oTmACMTxgPQRmUnXhNQWmNdP0tNleP/Ll29N/nkfiSCsl2Tu980MFLbgHd7iZkV1GR9AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"basic concept\" title=\"basic concept\" src=\"/static/85759dc3a75bfb1941c0fa5654d28abf/fcda8/basic_concept.png\" srcset=\"/static/85759dc3a75bfb1941c0fa5654d28abf/12f09/basic_concept.png 148w,\n/static/85759dc3a75bfb1941c0fa5654d28abf/e4a3f/basic_concept.png 295w,\n/static/85759dc3a75bfb1941c0fa5654d28abf/fcda8/basic_concept.png 590w,\n/static/85759dc3a75bfb1941c0fa5654d28abf/efc66/basic_concept.png 885w,\n/static/85759dc3a75bfb1941c0fa5654d28abf/c83ae/basic_concept.png 1180w,\n/static/85759dc3a75bfb1941c0fa5654d28abf/eaf69/basic_concept.png 1701w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n<ol>\n<li>By linear dynamics, we can predict the object's states(location, velocity, etc). For example,\n<ul>\n<li><span class=\"math math-inline\">x = x + velocity \\cdot t + \\frac{1}{2} \\cdot acceleration \\cdot t^2</span></li>\n<li>where <span class=\"math math-inline\">x</span> is a location <span class=\"math math-inline\">t</span> is time, say, in seconds</li>\n</ul>\n</li>\n<li>Compute Kalman Gain, which is simply <span class=\"math math-inline\">\\frac{E_{estimate}}{E_{estimate} + E_{measurement}}</span></li>\n<li>Kalman Gain tells us that if it is close to 1, there is nearly no error in measurement. Hence, we can trust measurement data. If it approaches 0, it means there is a huge error in measurement. So, we should not trust measurement</li>\n<li>By multiplying Kalman Gain to the difference between measurement and predicted states, we update <strong>the true states</strong> of the object</li>\n</ol>\n<h2>Pseudo-Code</h2>\n<p>There are <strong>1) predict step</strong> and <strong>2) update step</strong>.</p>\n<h4>Predict Step</h4>\n<ul>\n<li><span class=\"math math-inline\">X_k = F_k \\cdot X_{k-1} + B_k \\cdot u_k</span></li>\n<li><span class=\"math math-inline\">P_k = F_k \\cdot P_{k-1} \\cdot F_k^T + Q_{k-1}</span></li>\n</ul>\n<p>where <span class=\"math math-inline\">X_k</span> means the (predicted) states of the object at time <span class=\"math math-inline\">k</span>. <span class=\"math math-inline\">u_k</span> means external forces like constant acceleration or gravity or friction etc.</p>\n<h4>Update Step</h4>\n<ul>\n<li><span class=\"math math-inline\">y_k = z_k - H_k \\cdot X_k</span></li>\n<li><span class=\"math math-inline\">S_k = H_k \\cdot P_k H_k^T + R_k</span></li>\n<li><span class=\"math math-inline\">K_k = P_k \\cdot H_k^T S_k^{-1}</span></li>\n<li><span class=\"math math-inline\">X_k = X_k + K_k \\cdot y_k</span></li>\n<li><span class=\"math math-inline\">P_k = (I - K_k H_k) P_k</span></li>\n</ul>\n<h2>Implementation</h2>\n<p>Although it is incomplete, I am working on creating Kalman filter examples in this <a href=\"https://github.com/kkweon/kalman-filter-tutorial\">repo</a>.</p>\n<h2>References</h2>\n<p>I found the following references are good intro to Kalman Filter and Exmples.</p>\n<p>[1] Michel van Biezen, <a href=\"https://www.youtube.com/watch?v=CaCcOwJPytQ\">Special Topics - The Kalman Filter</a>\n[2] Wikipedia, <a href=\"https://en.wikipedia.org/wiki/Kalman_filter\">Kalman Filter</a></p>","excerpt":"Definition Kalman filtering, also known as linear quadratic estimation (LQE), is an algorithm that uses a series of measurements observedâ€¦","frontmatter":{"date":"January 19, 2017","title":"Kalman Filter","keywords":null,"description":"Kalman Filter"},"fields":{"slug":"posts/kalman-filter"}}},"pageContext":{"slug":"posts/kalman-filter"}},"staticQueryHashes":[]}